<% if flash[:notice]%>
  <div class="alert alert-info">
    <%= flash[:notice]%>
  </div>
<% end %>
<% if flash[:alert]%>
  <div class="alert alert-danger">
    <%= flash[:alert]%>
  </div>
<% end %>

<div class="row mt-3">
  <h1 class="col-sm-9">
    Products
  </h1>
  <%= link_to "Nuevo Producto", new_product_path, class: "col-sm-2 btn btn-primary" %>
</div>
<div class="row mt-5">

  <table class="table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">Categories</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <% @products.each do |product| %>
      <tr>
        <th scope="row"><%= product.id %></th>
        <td><%= product.name %></td>
        <td><%= product.price %></td>
        <td>
          <%= product.categories.map(&:name).join(', ') %>
        </td>
        <td>
          <%= link_to "Editar", edit_product_path(product) %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>